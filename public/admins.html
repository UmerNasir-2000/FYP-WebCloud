<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="./favicon-32x32.png" />
    <script type="text/javascript" src="/jquery/jquery.min.js"></script>
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="admins.css" />
    <link rel="stylesheet" href="navbar.css" />
    <link rel="stylesheet" href="footer.css" />
    <script type="text/javascript" src="/jquery/jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    />
    <script
      type="text/javascript"
      src="/bootstrap/js/bootstrap.min.js"
    ></script>

    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.0/beautify.min.js"
      integrity="sha512-aVeS8p7lnH8hSLlG8zNWY/7qE3ZC1lgtZi00woKJpPwN8dw+kH3TSkxNzdFlgUxy5JYgdWIZhBIRZKzAIn698g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.0/beautify.min.js"
      integrity="sha512-aVeS8p7lnH8hSLlG8zNWY/7qE3ZC1lgtZi00woKJpPwN8dw+kH3TSkxNzdFlgUxy5JYgdWIZhBIRZKzAIn698g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <script>
      $(document).ready(function () {
        $.ajax({
          url: `/api/admin/dashboard`,
          method: "GET",
          headers: { Authorization: `Bearer ${localStorage.getItem("token")}` },
        }).then(function (res) {
          $("#tblReg  > .wrapper > .box1").empty();
          let tc = ` 
          <div class="infotxt">Total Users : ${res.totalUsers}</div>
          <div class="infotxt">Total Project Templates : ${res.projectTemplates}</div>
          <div class="infotxt">Total Projects : ${res.totalProjects}</div>
          <div class="infotxt">Forked Projects</div>`;
          $("#tblReg  > .wrapper > .box1").append(tc);
          $("#tblReg  > .wrapper > .box2 > table > tbody").empty();
          $.each(res.requests, function (r1, reg) {
            console.log(reg);
            let tr = `
          <tr>
                <td>${reg.id}</td>
                <td>${reg.project_name}</td>
                <td>
                  <select class="standard-select">
                    <option value="Pending">Pending</option>
                    <option value="Approved">Approved</option>
                    <option value="DisApproved">DisApproved</option>
                  </select>
                </td>
                <td>${reg.first_name}</td>
                <td>${reg.createdAt}</td>
              </tr>

          `;
            $("#tblReg > .wrapper > .box2 > table > tbody").append(tr);

            console.log(res.totalProjects);
          });
        });
      });
    </script>
    <title style="color: aliceblue">Document</title>
  </head>
  <body>
    <nav class="navbar" style="padding: 0px 15px; background-color: black">
      <a class="navbar-brand" href="#">
        <img src="images/four.svg" height="50px" width="50px" alt="" />
      </a>
      <div style="justify-content: end !important">
        <ul
          class="navbar-nav"
          style="flex-direction: row; justify-content: flex-end !important"
        >
          <div class="section">
            <div class="top_navbar">
              <div class="bars">
                <a href="#">
                  <i class="fas fa-bars"></i>
                </a>
              </div>
            </div>
          </div>
        </ul>
      </div>
    </nav>
    <div class="sidebar-parent">
      <div class="sidebar-child">
        <div class="sidebar-pic">
          <a id="mypic" href=""></a>
        </div>

        <li>
          <button id="uname" class="btn-mini-side"></button>
        </li>
        <li>
          <button id="logout" class="btn-mini-side">
            <a style="color: rgba(255, 0, 0, 0.671)" target="_blank">LOGOUT</a>
          </button>
        </li>
      </div>
    </div>
    <div class="outer-grid" id="tblReg">
      <h4 style="font-size: 30pt; color: white; text-align: center">
        ADMIN DASHBOARD
      </h4>

      <div class="wrapper">
        <div class="box1"></div>
        <div class="box2">
          <h4 style="font-size: 20pt; color: white">PROJECTS REQUESTS</h4>
          <table class="styled-table" style="table-layout: fixed; width: 90%">
            <thead>
              <tr style="color: white; font-size: 15pt">
                <th>Project ID</th>
                <th>Project Name</th>
                <th>Project Status</th>
                <th>Created By</th>
                <th>Created At</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
        <div class="box3">
          <h3>
            <div>Template</div>
          </h3>
        </div>
      </div>
    </div>
    <section class="footer">
      <div class="box-container">
        <div class="box">
          <h3>Why choose us?</h3>
          <p>You can code any where any time without environmental setup</p>
        </div>

        <div class="box">
          <h3>Quick Links</h3>
          <a style="text-decoration: none" href="landing.html">home</a>
          <a style="text-decoration: none" href="userguide.html">about</a>
          <a style="text-decoration: none" href="#">contact</a>
          <a style="text-decoration: none" href="userguide.html">FAQ</a>
        </div>

        <div class="box">
          <h3>Contact Us</h3>
          <p><i class="fas fa-map-marker-alt"></i>SZABIST 100</p>
          <p><i class="fas fa-globe"></i> www.webcloud.com</p>
          <p><i class="fas fa-phone"></i> +123-456-7890.</p>
        </div>
      </div>

      <h1 class="credit">
        created by
        <a style="text-decoration: none" href="#">Umer And Wahaj</a> | all
        rights reserved.
      </h1>
    </section>

    <script src="navbar.js"></script>
  </body>
</html>
