<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css" />
    <link rel="stylesheet" href="styles.css" />
<link rel="stylesheet" href="landingstyle.css" />
   
    <title>Web Cloud | Sign Up</title>
    <script type="text/javascript" src="/jquery/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
       // $("#register").click(function () {
        //   var firstname = $("#firstName").val();
        //   var lastname = $("#lastName").val();
        //   var email = $("#email").val();
        //   var password = $("#password").val();
        //   var age = $("#age").val();
        //   console.log(firstname, lastname, email, password, age);

        //   $.ajax({
        //     url: `/api/auth/signup`,
        //     method: "POST",
        //     data: {
        //       firstName: firstname,
        //       lastName: lastname,
        //       email: email,
        //       password: password,
        //       age: age,
        //     },
        //   }).then(function (res) {
        //     console.log(res);
        //   });
        // });
        $("#register").click(function (e) {
          e.preventDefault();
          var firstname = $("#firstName").val();
          var lastname = $("#lastName").val();
          var email = $("#email").val();
          var password = $("#password").val();
          var age = $("#age").val();
          console.log(firstname, lastname, email, password, age);
          $.ajax({
            url: `/api/auth/signup`,
            method: "POST",
            data: {
              firstName: firstname,
              lastName: lastname,
              email: email,
              password: password,
              age: age,
            },
            success: function (result, status, xhr) {
              alert("Signup Successfully"); 
              window.location.href = 'index.html';

    },
    error: function (xhr, status, error) {
         alert(xhr.responseText);
    }
          }) 

       

          $(".error").remove();
          if (firstname.length < 1) {
            $('#firstName').before('<span class="error" style="font-size:10pt;color: red;" >This field is required</span>');
          } 
    else if (firstname.length < 3) {
      $('#firstName').before('<span class="error" style="font-size:10pt;color: red;" >Enter at least 3 characters</span>');
    } 
    if (lastname.length < 1) {
      $('#lastName').before('<span style="font-size:10pt;color: red;" class="error">This field is required</span>');
    }
    else if (lastname.length < 3) {
      $('#lastName').before('<span style="font-size:10pt;color: red;" class="error">Enter at least 3 characters</span>');
    }
    if (email.length < 1) {
      $('#email').before('<span style="font-size:10pt;color: red;" class="error">This field is required</span>');
    } else {
      var regEx = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
      var validEmail = regEx.test(email);
      if (!validEmail) {
        $('#email').before('<span style="font-size:10pt;color: red;"  class="error">Enter a valid email</span>');
      }
    } if (password.length < 8) {
      $('#password').before('<span style="font-size:10pt;color: red;" class="error">This field is required</span>');
    } else {
      var regEx = /^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{7,15}$/;
      var validPassword = regEx.test(password);
      if (!validPassword) {
        $('#password').before('<span style="font-size:10pt;color: red;"  class="error">Enter a valid Password Using Aplhabets Characters abd Numbers</span>');
      }
    }
 
    if (age.length <=0) {
      $('#age').before('<span style="font-size:10pt;color: red;"  class="error">This field is requireds</span>');
    }
  });

      });
    </script>
  </head>
  <body>

    <nav
    class="navbar navbar-light"
    style="
    margin-left: auto;
      background-color: rgb(15, 23, 36);
      align-content: space-between;
      padding: 10px;
    "
  >
   
    <h1 class="display-6" style="font-size: 40px; color: white; font-weight: bolder">
      &lt;/&gt;WebCloud
    </h1>
 
  </nav>
    <div class="login-page">
      <div class="form">
        <form class="register-form">
          <label for="firstName" class="Text">First Name</label>
       <input
  
            type="text"
            name="firstName"
            placeholder="Enter firstName"
            id="firstName"
          />
          <label for="lastName" class="Text">Last Name</label>

          <input
            type="text"
            name="lastName"
            placeholder="Enter lastName"
            id="lastName"
          />
          <label for="password" class="Text">Password</label>
          <input
          type="password"
          name="password"
          placeholder="Enter password"
          id="password"
          />
          <label for="email" class="Text">Email</label>
          <input type="email" name="email" placeholder="Enter email" id="email" />
          
          <label for="age" class="Text">Age</label>
          <input type="number" name="age" placeholder="Enter age" id="age" />
          <button type="button" id="register"  >
            Signup
          </button>
          <p class="message">Already registered? <a href="index.html">Login</a></p>
        </form>
      </div>
    </div>
    <section class="footer">
    
      <div class="box-container">
      
          <div class="box">
              <h3>Why choose us?</h3>
              <p>You can code any where any time without environmental setup</p>
                 </div>
      
          <div class="box" >
              <h3>Quick Links</h3>
              <a style="  text-decoration: none;" href="landing.html">home</a>
              <a style="  text-decoration: none;" href="userguide.html">about</a> 
              <a style="  text-decoration: none;" href="#">contact</a>
              <a style="  text-decoration: none;" href="userguide.html">FAQ</a>
          </div>
      
          <div class="box">
              <h3>Contact Us</h3>
              <p> <i class="fas fa-map-marker-alt"></i>SZABIST 100 </p>
              <p> <i class="fas fa-globe"></i> www.webcloud.com </p>
              <p> <i class="fas fa-phone"></i> +123-456-7890. </p>
          </div>
      
      </div>
      
      <h1 class="credit"> created by <a style="  text-decoration: none;" href="#">Umer And Wahaj</a> | all rights reserved. </h1>
      
      </section>
  </body>
</html>
